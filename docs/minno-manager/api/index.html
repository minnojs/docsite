<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.74.3" />
    <meta name="description" content="Documentation for minnoSuite">
<meta name="author" content="Andrew Dzikiewicz">

    <link rel="icon" href="/docsite/images/favicon.png" type="image/png">

    <title> :: Documentation for minnoSuite</title>

    
    <link href="/docsite/css/nucleus.css?1611179788" rel="stylesheet">
    <link href="/docsite/css/fontawesome-all.min.css?1611179788" rel="stylesheet">
    <link href="/docsite/css/hybrid.css?1611179788" rel="stylesheet">
    <link href="/docsite/css/featherlight.min.css?1611179788" rel="stylesheet">
    <link href="/docsite/css/perfect-scrollbar.min.css?1611179788" rel="stylesheet">
    <link href="/docsite/css/auto-complete.css?1611179788" rel="stylesheet">
    <link href="/docsite/css/atom-one-dark-reasonable.css?1611179788" rel="stylesheet">
    <link href="/docsite/css/theme.css?1611179788" rel="stylesheet">
    <link href="/docsite/css/hugo-theme.css?1611179788" rel="stylesheet">
    

    <script src="/docsite/js/jquery-3.3.1.min.js?1611179788"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
<style type="text/css">
     
	#header-wrapper {
	    background: url(../images/bg-light.gif) 50% -1px no-repeat;
	    color: #fff;
	    text-align: center;
	    border-bottom: 4px solid rgb(97, 97, 97);
	    padding: 1rem;
	}
	.searchbox {
	    margin-top: 1rem;
	    position: relative;
	    border: 1px solid #915eae;
	    background: #bbb;
	    border-radius: 4px;
	}
	.searchbox label {
	    color: #111;
	    position: absolute;
	    left: 10px;
	    top: 3px;
	}
	.searchbox span {
	    color: #111;
	    position: absolute;
	    right: 10px;
	    top: 3px;
	    cursor: pointer;
	}
	.searchbox span:hover {
	    color: rgba(255, 255, 255, 0.9);
	}
	.searchbox input {
	    display: inline-block;
	    color: #111;
	    width: 100%;
	    height: 30px;
	    background: transparent;
	    border: 0;
	    padding: 0 25px 0 30px;
	    margin: 0;
	    font-weight: 300;
	}
	.searchbox input::-webkit-input-placeholder {
	     color: #111;
	}
	.searchbox input::-moz-placeholder {
	     color: #111;
	}
	.searchbox input:-moz-placeholder {
	    color: #111;
	}
	.searchbox input:-ms-input-placeholder {
	     color: #111;
	}
</style>
  </head>
  <body class="" data-url="/docsite/minno-manager/api/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <img src='/docsite/images/header-logo.png'><a id="logo" href="/docsite/"></a> </img>



    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/docsite/js/lunr.min.js?1611179788"></script>
<script type="text/javascript" src="/docsite/js/auto-complete.js?1611179788"></script>
<script type="text/javascript">
    
        var baseurl = "\/docsite";
    
</script>
<script type="text/javascript" src="/docsite/js/search.js?1611179788"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/minnosuitedashboard/" title="Using the Dashboard" class="dd-item 
        
        
        
        ">
      <a href="/docsite/minnosuitedashboard/">
          Using the Dashboard
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/minnosuitedashboard/admin/" title="Getting started (admin account)" class="dd-item 
        
        
        
        ">
      <a href="/docsite/minnosuitedashboard/admin/">
          Getting started (admin account)
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/minnosuitedashboard/researcher/" title="Getting started (researcher)" class="dd-item 
        
        
        
        ">
      <a href="/docsite/minnosuitedashboard/researcher/">
          Getting started (researcher)
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/minnosuitedashboard/dropbox/" title="Setting up Dropbox" class="dd-item 
        
        
        
        ">
      <a href="/docsite/minnosuitedashboard/dropbox/">
          Setting up Dropbox
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/minnosuitedashboard/studydevelopment/" title="Study Development" class="dd-item 
        
        
        
        ">
      <a href="/docsite/minnosuitedashboard/studydevelopment/">
          Study Development
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/minnosuitedashboard/data/" title="Data" class="dd-item 
        
        
        
        ">
      <a href="/docsite/minnosuitedashboard/data/">
          Data
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/installation/" title="Installation" class="dd-item 
        
        
        
        ">
      <a href="/docsite/installation/">
          Installation
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/installation/requirements/" title="Requirements" class="dd-item 
        
        
        
        ">
      <a href="/docsite/installation/requirements/">
          Requirements
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/installation/basicinstallation/" title="Docker Installation" class="dd-item 
        
        
        
        ">
      <a href="/docsite/installation/basicinstallation/">
          Docker Installation
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/installation/basicinstallation/configfile/" title="The Docker Configuration File" class="dd-item 
        
        
        
        ">
      <a href="/docsite/installation/basicinstallation/configfile/">
          The Docker Configuration File
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/installation/awsinstallation/" title="AWS Cloud Installation" class="dd-item 
        
        
        
        ">
      <a href="/docsite/installation/awsinstallation/">
          AWS Cloud Installation
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/installation/awsinstallation/awsupdate/" title="AWS Update" class="dd-item 
        
        
        
        ">
      <a href="/docsite/installation/awsinstallation/awsupdate/">
          AWS Update
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/installation/awsinstallation/awspayssl/" title="AWS Paid SSL" class="dd-item 
        
        
        
        ">
      <a href="/docsite/installation/awsinstallation/awspayssl/">
          AWS Paid SSL
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/installation/digitalocean/" title="DigitalOcean Installation" class="dd-item 
        
        
        
        ">
      <a href="/docsite/installation/digitalocean/">
          DigitalOcean Installation
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/installation/advanced/" title="Manual Installation" class="dd-item 
        
        
        
        ">
      <a href="/docsite/installation/advanced/">
          Manual Installation
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/installation/domain/" title="A secure connection (https)" class="dd-item 
        
        
        
        ">
      <a href="/docsite/installation/domain/">
          A secure connection (https)
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/installation/domain/freedomain/" title="Free domain with Freenom" class="dd-item 
        
        
        
        ">
      <a href="/docsite/installation/domain/freedomain/">
          Free domain with Freenom
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/extendingsite/" title="Extending This Doc Site" class="dd-item 
        
        
        
        ">
      <a href="/docsite/extendingsite/">
          Extending This Doc Site
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/projectimplicit/" title="About Project Implicit" class="dd-item 
        
        
        
        ">
      <a href="/docsite/projectimplicit/">
          About Project Implicit
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/minno-manager/" title="MinnoJS manager" class="dd-item 
        parent
        
        
        ">
      <a href="/docsite/minno-manager/">
          MinnoJS manager
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/minno-manager/api/" title="" class="dd-item active">
        <a href="/docsite/minno-manager/api/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/minno-manager/injectstyle/" title="" class="dd-item ">
        <a href="/docsite/minno-manager/injectstyle/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/minno-manager/istouch/" title="" class="dd-item ">
        <a href="/docsite/minno-manager/istouch/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/minno-manager/messages/" title="" class="dd-item ">
        <a href="/docsite/minno-manager/messages/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/minno-manager/post/" title="" class="dd-item ">
        <a href="/docsite/minno-manager/post/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/minno-manager/postcsv/" title="" class="dd-item ">
        <a href="/docsite/minno-manager/postcsv/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/minno-manager/quest/" title="" class="dd-item ">
        <a href="/docsite/minno-manager/quest/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/minno-manager/redirect/" title="" class="dd-item ">
        <a href="/docsite/minno-manager/redirect/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/minno-manager/setvalue/" title="" class="dd-item ">
        <a href="/docsite/minno-manager/setvalue/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/minno-manager/time/" title="" class="dd-item ">
        <a href="/docsite/minno-manager/time/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/minno-manager/yesno/" title="" class="dd-item ">
        <a href="/docsite/minno-manager/yesno/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/minno-manager/allowleaving/" title="AllowLeaving" class="dd-item ">
        <a href="/docsite/minno-manager/allowleaving/">
        AllowLeaving
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/minno-manager/menu/" title="menu" class="dd-item ">
        <a href="/docsite/minno-manager/menu/">
        menu
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <center>

</center>


    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="/docsite/minno-manager/API.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/docsite/'>Documentation for minnoSuite</a> > <a href='/docsite/minno-manager/'>MinnoJS manager</a> > 
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#tasks">Tasks</a></li>
        <li><a href="#custom-tasks">Custom tasks</a></li>
        <li><a href="#settings">Settings</a></li>
        <li><a href="#rtl">rtl</a></li>
        <li><a href="#inheritance">Inheritance</a></li>
        <li><a href="#project-implicit-build">Project Implicit Build</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              
            </h1>
          

        



<h1 id="api">API</h1>
<ul>
<li><a href="#tasks">Tasks</a>
<ul>
<li><a href="#task-types">Task types</a></li>
<li><a href="#task-properties">Task properties</a></li>
</ul>
</li>
<li><a href="#custom-tasks">Custom tasks</a>
<ul>
<li><a href="#plugging-in">Plugging in</a></li>
<li><a href="#activator-function">Activator function</a></li>
<li><a href="#custom-task-example">Custom Task Example</a></li>
</ul>
</li>
<li><a href="#settings">Settings</a>
<ul>
<li><a href="#canvas">canvas</a></li>
<li><a href="#injectstyle">injectStyle</a></li>
<li><a href="#onpretask">onPreTask</a></li>
<li><a href="#onend">onEnd</a></li>
<li><a href="#title">title</a></li>
<li><a href="#preloadimages">preloadImages</a></li>
<li><a href="#skip">skip</a></li>
<li><a href="#skin">skin</a></li>
<li><a href="#rtl">rtl</a></li>
<li><a href="#logger">logger</a></li>
<li><a href="#debug">DEBUG</a></li>
</ul>
</li>
<li><a href="#inheritance">Inheritance</a></li>
<li><a href="#project-implicit-build">Project Implicit Build</a>
<ul>
<li><a href="#loggerurl">logger.url</a></li>
<li><a href="#mturk">mTurk</a></li>
</ul>
</li>
</ul>
<p>The miManager is responsible for managing several MinnoJS tasks sequentially.</p>
<h3 id="tasks">Tasks</h3>
<p>The basic unit in miManager is the <strong>task</strong>.
There are many <a href="#task-types">types of tasks</a> available,
and you can also create <a href="#custom-tasks">custom tasks</a> of your own.
Tasks are defined within the sequence just like any other element,
and you can use mixers, inheritance, and templates to control their flow.</p>
<p>For example, following is a manager sequence with two subsequent tasks - first a questionnaire, then a time-sensitive tasks.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">addSequence</span>([
    { <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;quest&#39;</span>, <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;race-questionnaire&#39;</span>, <span style="color:#a6e22e">scriptUrl</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;race.quest.js&#39;</span>},
    { <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;time&#39;</span>, <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;race-iat&#39;</span>, <span style="color:#a6e22e">scriptUrl</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;iat.js&#39;</span>}
]);
</code></pre></div><h4 id="task-types">Task types</h4>
<p>Minno time supports many types of tasks
(though by far the most extensive are <a href="../quest"><code>quest</code></a> and <a href="../time"><code>time</code></a>).
Following is a list of tasks types, follow the link to learn how to use them.</p>
<table>
<thead>
<tr>
<th>Task</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./time.html">Time</a></td>
<td>Almost any time-sensitive task you can imagine</td>
</tr>
<tr>
<td><a href="./quest.html">Questionnaire</a></td>
<td>A full fledged questionnaire</td>
</tr>
<tr>
<td><a href="./allowleaving.html">Allow Leaving</a></td>
<td>Control the mechanism preventing users from leaving the task by mistake</td>
</tr>
<tr>
<td><a href="./injectStyle.html">Inject Style</a></td>
<td>Add css styles on the fly</td>
</tr>
<tr>
<td><a href="./isTouch.html">Is Touch</a></td>
<td>Ask if the user wants to use the touch interface</td>
</tr>
<tr>
<td><a href="./messages.html">Messages</a></td>
<td>Display messages and plain HTML to the user</td>
</tr>
<tr>
<td><a href="./post.html">Post</a></td>
<td>Post task data to the server</td>
</tr>
<tr>
<td><a href="./postCsv.html">Post CSV</a></td>
<td>When using the CSV logger, post data to the server</td>
</tr>
<tr>
<td><a href="./redirect.html">Redirect</a></td>
<td>Redirect user to an external URL</td>
</tr>
<tr>
<td><a href="./setValue.html">Set Value</a></td>
<td>Manipulate environmental variables</td>
</tr>
<tr>
<td><a href="./yesno.html">Yes/No</a></td>
<td>Ask a single Yes/No question</td>
</tr>
</tbody>
</table>
<h4 id="task-properties">Task properties</h4>
<p>All tasks have some common properties that can be used to customize their behaviour.
Following is a list of such properties and a description of their behaviour.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Task name.</td>
</tr>
<tr>
<td>type</td>
<td>Type of task (quest,message etc.).</td>
</tr>
<tr>
<td>pre</td>
<td>A function to invoke before the task (may return a promise).</td>
</tr>
<tr>
<td>load</td>
<td>A function to invoke as soon as the task is loaded (may return a promise).</td>
</tr>
<tr>
<td>post</td>
<td>A function to invoke after the task (may return a promise).</td>
</tr>
<tr>
<td>canvas</td>
<td>A canvas object (as defined under <a href="#canvas">settings</a>) to invoke at the beginning of the task and remove</td>
</tr>
<tr>
<td>title</td>
<td>A string to be used as the page title (the name displayed on the tag). It is reset at the end of the task.</td>
</tr>
<tr>
<td>preText</td>
<td>A template to be expanded before the task</td>
</tr>
<tr>
<td>postText</td>
<td>A template to be expanded after the task</td>
</tr>
<tr>
<td>current</td>
<td>An object that will be merged into the task <code>current</code> object.</td>
</tr>
</tbody>
</table>
<h3 id="custom-tasks">Custom tasks</h3>
<p>The miManager allows the creation of custom tasks.
The format is fairly simple though you probably need at least some experience with programing for it.</p>
<h4 id="plugging-in">Plugging in</h4>
<p>miManager manages the task sequence for you as well as loading the task script (if needed). There are several ways to plug a new task into miManager, the all involve passing the activator function to the manager in various ways.</p>
<ol>
<li>You can pass the activator function as a script.</li>
<li>You can pass it as the play property of the script object ().</li>
<li>You can set it into the <code>taskActivateProvider</code> using <code>taskActivateProvider.set(taskName, activatorFunction)</code> during the configuration stage of the angular flow (This is worth the trouble mainly if you intend to use this task many times).</li>
</ol>
<h4 id="activator-function">Activator function</h4>
<p>The activator function is the function that is responsible for the activation of your task as well as for the communication with miManager.</p>
<p>It should:</p>
<ul>
<li>Run your task (just do whatever you like).</li>
<li>Return a function that may be used to force the end of the task.</li>
<li>Call the <code>done</code> function whenever it is done.</li>
</ul>
<p>The activator function is invoked using <a href="https://docs.angularjs.org/guide/di">angular dependency injection</a>, so you can use any of the angular <a href="https://docs.angularjs.org/guide/di#dependency-annotation">annotation</a> methods to get dependencies.</p>
<p>The following dependencies are supported (as well as all standard angular services):</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>done</td>
<td>A function that lets the manager know that the task has finished.</td>
</tr>
<tr>
<td>props</td>
<td>An object with all sorts of useful tools.</td>
</tr>
<tr>
<td>$scope</td>
<td>The task scope.</td>
</tr>
<tr>
<td>task</td>
<td>The miManager element that defined this task.</td>
</tr>
<tr>
<td>script</td>
<td>The task script (as defined in task.script or loaded from task.scriptUrl).</td>
</tr>
<tr>
<td>$element</td>
<td>The tasks DOM Node wrapped in jqLite or jQuery.</td>
</tr>
<tr>
<td>global</td>
<td>The global object</td>
</tr>
<tr>
<td>$injector</td>
<td>an angularjs injector (it can allow you to $compile or accesses $rootScope)</td>
</tr>
</tbody>
</table>
<h4 id="custom-task-example">Custom Task Example</h4>
<p>The following displays a messages to the user and proceeds to the next task after 5 seconds:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// the define wrapper
</span><span style="color:#75715e"></span><span style="color:#a6e22e">define</span>(<span style="color:#66d9ef">function</span>(){
    <span style="color:#75715e">// the script object being returned
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> {
        <span style="color:#75715e">// custom script content
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Hi there, I\&#39;m your custom message&#39;</span>,

        <span style="color:#75715e">// the activator function uses three dependencie
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">play</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">activator</span>(<span style="color:#a6e22e">done</span>, <span style="color:#a6e22e">script</span>, <span style="color:#a6e22e">$element</span>){
            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">timeoutId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">setTimeout</span>(<span style="color:#a6e22e">done</span>, <span style="color:#ae81ff">5000</span>);
            <span style="color:#a6e22e">$element</span>.<span style="color:#a6e22e">html</span>(<span style="color:#a6e22e">script</span>.<span style="color:#a6e22e">content</span>);

            <span style="color:#75715e">// will be called at the end of the task to clean things up
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// (whether the end is forced or triggered by &#39;done&#39;)
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">clear</span>(){
                <span style="color:#a6e22e">clearTimeout</span>(<span style="color:#a6e22e">timeoutId</span>);
                <span style="color:#a6e22e">$element</span>.<span style="color:#a6e22e">empty</span>();           
            };
        }
    };
});
</code></pre></div><p>In order to use it all you have to do is point the task to the correct url:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">taskElement</span> <span style="color:#f92672">=</span> {<span style="color:#a6e22e">scriptUrl</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;path/to/script&#39;</span>};
</code></pre></div><h3 id="settings">Settings</h3>
<p>Settings allow you to control the generic way that the player works. Change the settings using the <code>addSettings</code> function. The first argument to the function is always the name of the setting, the second argument is the setting values. In case the setting is an object, subsequent objects will extend each other so that settings may be progressively added.
All the functions within settings are invoked using angular. This means that you have access to any service you like, as well as some specific assets. <a href="https://docs.angularjs.org/api/auto/service/$injector">In order to access the services</a> simply use arguments with the appropriate name. For instance, this is how you would access <code>$rootScope</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">onEnd</span>(<span style="color:#a6e22e">$rootScope</span>){
    <span style="color:#a6e22e">$rootScope</span>.<span style="color:#a6e22e">$emit</span>(<span style="color:#e6db74">&#39;end!!&#39;</span>);
}
</code></pre></div><h4 id="canvas">canvas</h4>
<p><code>canvas</code> takes an object that describes the style of the task environment. Each property of the object changes a different style element.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Changes</th>
</tr>
</thead>
<tbody>
<tr>
<td>background</td>
<td>The overall background color.</td>
</tr>
<tr>
<td>canvasBackground</td>
<td>Default canvas background color.</td>
</tr>
<tr>
<td>fontColor</td>
<td>Default font color.</td>
</tr>
<tr>
<td>fontSize</td>
<td>Default font size.</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">addSettings</span>(<span style="color:#e6db74">&#39;canvas&#39;</span>, {
    <span style="color:#a6e22e">fontSize</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;2em&#39;</span>
});
</code></pre></div><p>In case you need to fine tune the styles even further you can add css rules into the raw HTML. Support for dynamically adding CSS is planned but not yet supported.</p>
<h4 id="injectstyle">injectStyle</h4>
<p>Injects a string of css into the page.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">addSettings</span>(<span style="color:#e6db74">&#39;injectStyle&#39;</span>, <span style="color:#e6db74">&#39;[pi-quest] label {font-size:1.2em; font-weight:normal;}&#39;</span>);
</code></pre></div><h4 id="onpretask">onPreTask</h4>
<p><code>onPreTask</code> is a function to be called before each task is called.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">addSettings</span>(<span style="color:#e6db74">&#39;onPreTask&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">currentTask</span>){
    <span style="color:#a6e22e">doSomethingWith</span>(<span style="color:#a6e22e">currentTask</span>);
});
</code></pre></div><table>
<thead>
<tr>
<th>Asset</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>currentTask</td>
<td>The current task object</td>
</tr>
<tr>
<td>prevTask</td>
<td>The previous task object (this may be used as a post task action as well&hellip;)</td>
</tr>
</tbody>
</table>
<h4 id="onend">onEnd</h4>
<p><code>onEnd</code> is a function to be called as soon as the task sequence ends.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">addSettings</span>(<span style="color:#e6db74">&#39;onEnd&#39;</span>, <span style="color:#66d9ef">function</span>(){
    <span style="color:#75715e">// Do something: for instance, redirect to &#39;my/url.js&#39;
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">location</span>.<span style="color:#a6e22e">href</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;my/url.js&#39;</span>;
});
</code></pre></div><table>
<thead>
<tr>
<th>Asset</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>currentTask</td>
<td>The current (last) task object</td>
</tr>
</tbody>
</table>
<h4 id="title">title</h4>
<p><code>title</code> is a string to be used as the page title (the name displayed on the tag).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">addSettings</span>(<span style="color:#e6db74">&#39;title&#39;</span>, <span style="color:#e6db74">&#39;My Manager Title&#39;</span>);
</code></pre></div><h4 id="preloadimages">preloadImages</h4>
<p>Accepts an array of image urls to preload. The manager will <strong>not</strong> wait until all images are loaded, but it will make images displayed later in the manager sequence be displayed significantly faster.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">addSettings</span>(<span style="color:#e6db74">&#39;preloadImages&#39;</span>, [<span style="color:#e6db74">&#39;my/image/url/imageName.png&#39;</span>, <span style="color:#e6db74">&#39;my/other/url/otherImage.jpg&#39;</span>]);
</code></pre></div><h4 id="skip">skip</h4>
<p>Whether to activate the skip and refresh option. If activated, clicking <code>ctrl r</code> reloads the current task (this feature may not be supported on older browsers), clicking <code>escape</code> and then the right or left arrows skips to the next or previous tasks.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">addSettings</span>(<span style="color:#e6db74">&#39;skip&#39;</span>, <span style="color:#66d9ef">true</span>);
</code></pre></div><h4 id="skin">skin</h4>
<p>Add a skin to your project. Skins change the way that your tasks look. Currently the only skins that we support are <code>simple</code> and <code>demo</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">addSettings</span>(<span style="color:#e6db74">&#39;skin&#39;</span>, <span style="color:#e6db74">&#39;demo&#39;</span>);
</code></pre></div><h3 id="rtl">rtl</h3>
<p>Setting rtl to <code>true</code> will change the layout of the player to right to left in order to ocomodate right to left languages such as arabic and hebrew.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">addSettings</span>(<span style="color:#e6db74">&#39;rtl&#39;</span>, <span style="color:#66d9ef">true</span>);
</code></pre></div><h4 id="logger">logger</h4>
<p>The logger allows control of logging activities.</p>
<p>Folowing are the properties available for the logger:</p>
<table>
<thead>
<tr>
<th>property</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>The url to send to. If it is not set, data will not be sent.</td>
</tr>
<tr>
<td>type</td>
<td>The strategy to use for sending logs to the server. See options below.</td>
</tr>
<tr>
<td>pulse</td>
<td>Allows you to post your data in pulses of &ldquo;pulse&rdquo; logs instead of all at the end of the task (Does not work for csv logger).</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">addSettings</span>(<span style="color:#e6db74">&#39;logger&#39;</span>, {
    <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/manager/data&#39;</span>,
    <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;new&#39;</span>,
    <span style="color:#a6e22e">pulse</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">20</span>
});
</code></pre></div><p>By deafault the logger posts according to the Project Implicit server rules (old).
You can change the logging style by setting the logger <code>type</code> as follows:</p>
<table>
<thead>
<tr>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>old</td>
<td>Uses the post strategy implemented by the old PI server</td>
</tr>
<tr>
<td>new</td>
<td>Uses the post strategy implemented by the new server</td>
</tr>
<tr>
<td>csv</td>
<td>Posts all data as CSV at the end of the manager. If you are creating a manager that does not fully complete (for instance, when you have a message as your last page), use the postCSV task in addition to settings the log type to csv.</td>
</tr>
<tr>
<td>debug</td>
<td>Logs all posts to the console. Do not do this in production! These logs aren&rsquo;t posted to the server at all!</td>
</tr>
</tbody>
</table>
<p>You can change the logging strategy or even create new strategies.
Doing this is rather advanced and is documented <a href="https://github.com/minnojs/minno-quest/blob/0.2/src/taskManager/logger/readme.md">here</a>.</p>
<h4 id="debug">DEBUG</h4>
<p>The <code>DEBUG</code> settings allows you to control the debug messages produced by the player.
In the development environment (when <code>window.DEBUG</code> is set to <code>true</code>) you have access to a development console.
The console will hold messages describing the process of your studies.</p>
<p>At the top of the console window you will see a dropdown that allows you to select the level of logging you would like to see.
For example, you may want to be alerted only of errors, or of every possible activity of the player.
In addition you have a button that allows you to close and open the console.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>hideConsole</td>
<td>(true or false) hide console activity</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">addSettings</span>(<span style="color:#e6db74">&#39;DEBUG&#39;</span>, { <span style="color:#a6e22e">hideConsole</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>});
</code></pre></div><h3 id="inheritance">Inheritance</h3>
<p>miManager uses the same inheritance system used by miQuest.
It has one type of set: the task set. In order to create task sets use <code>API.addTasksSet(set, list)</code>.</p>
<h3 id="project-implicit-build">Project Implicit Build</h3>
<h4 id="mturk">mTurk</h4>
<p>The project implicit build has a feature for integration with mTurk.
All you have to do is add The following code to your project, replacing the <code>&lt;id#&gt;</code> tags with the appropriate data of course.
The player will redirect the users back to mTurk immediately after the final task in the manager (as defined by the <code>last</code> property).
Setting the <code>isProduction</code> property allows you to switch between the development and production urls for mTurk.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">addGlobal</span>({
    <span style="color:#a6e22e">$mTurk</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">assignmentId</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;&lt;id#&gt;&#39;</span>,
        <span style="color:#a6e22e">hitId</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;&lt;id#&gt;&#39;</span>,
        <span style="color:#a6e22e">workerId</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;&lt;id#&gt;&#39;</span>,
        <span style="color:#a6e22e">isProduction</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
    }
});
</code></pre></div>

<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/docsite/minno-manager/" title="MinnoJS manager"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/docsite/minno-manager/injectstyle/" title="" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/docsite/js/clipboard.min.js?1611179788"></script>
    <script src="/docsite/js/perfect-scrollbar.min.js?1611179788"></script>
    <script src="/docsite/js/perfect-scrollbar.jquery.min.js?1611179788"></script>
    <script src="/docsite/js/jquery.sticky.js?1611179788"></script>
    <script src="/docsite/js/featherlight.min.js?1611179788"></script>
    <script src="/docsite/js/highlight.pack.js?1611179788"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/docsite/js/modernizr.custom-3.6.0.js?1611179788"></script>
    <script src="/docsite/js/learn.js?1611179788"></script>
    <script src="/docsite/js/hugo-learn.js?1611179788"></script>

    <link href="/docsite/mermaid/mermaid.css?1611179788" rel="stylesheet" />
    <script src="/docsite/mermaid/mermaid.js?1611179788"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-105947713-1', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>

